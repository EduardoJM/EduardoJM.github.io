"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[5004],{1805:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>m,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var i=t(4848),s=t(8453);const a={tags:["React","Testes","testing-library"]},r="Usar findBy ao inv\xe9s waitFor",o={id:"desenvolvimento/front-end/react-testing/findby-instead-waitfor",title:"Usar findBy ao inv\xe9s waitFor",description:"usar await findBy*() ao inv\xe9s de usar waitFor() para esperar atualiza\xe7\xe3o de renderiza\xe7\xe3o de componentes pode ser mais leg\xedvel.",source:"@site/docs/desenvolvimento/front-end/react-testing/findby-instead-waitfor.md",sourceDirName:"desenvolvimento/front-end/react-testing",slug:"/desenvolvimento/front-end/react-testing/findby-instead-waitfor",permalink:"/docs/desenvolvimento/front-end/react-testing/findby-instead-waitfor",draft:!1,unlisted:!1,editUrl:"https://github.com/EduardoJM/EduardoJM.github.io/tree/main/docs/desenvolvimento/front-end/react-testing/findby-instead-waitfor.md",tags:[{inline:!0,label:"React",permalink:"/docs/tags/react"},{inline:!0,label:"Testes",permalink:"/docs/tags/testes"},{inline:!0,label:"testing-library",permalink:"/docs/tags/testing-library"}],version:"current",lastUpdatedBy:"Eduardo Oliveira",lastUpdatedAt:1725284609e3,frontMatter:{tags:["React","Testes","testing-library"]},sidebar:"tutorialSidebar",previous:{title:"React Testing",permalink:"/docs/category/react-testing"},next:{title:"Testando formul\xe1rios com acessibilidade",permalink:"/docs/desenvolvimento/front-end/react-testing/testing-forms-with-accessibility"}},d={},c=[{value:"Componente",id:"componente",level:2},{value:"Com waitFor",id:"com-waitfor",level:2},{value:"Com findBy",id:"com-findby",level:2},{value:"Refer\xeancias",id:"refer\xeancias",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"usar-findby-ao-inv\xe9s-waitfor",children:"Usar findBy ao inv\xe9s waitFor"}),"\n",(0,i.jsx)(n.admonition,{title:"Resumo",type:"info",children:(0,i.jsxs)(n.p,{children:["usar ",(0,i.jsx)(n.code,{children:"await findBy*()"})," ao inv\xe9s de usar ",(0,i.jsx)(n.code,{children:"waitFor()"})," para esperar atualiza\xe7\xe3o de renderiza\xe7\xe3o de componentes pode ser mais leg\xedvel."]})}),"\n",(0,i.jsx)(n.h2,{id:"componente",children:"Componente"}),"\n",(0,i.jsx)(n.p,{children:"Suponha o seguinte componente que executa uma a\xe7\xe3o ass\xedncrona que altera o componente renderizado."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"export const ListPage = () => {\n  const [items, setItems] = useState([]);\n\n  useEffect(() => {\n    const loadItems = async () => {\n      setTimeout(() => setItems(['Item 1', 'Item 2']), 100);\n    };\n    loadItems();\n  }, []);\n\n  if (!items.length) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div className='text-list__container'>\n      <h1>List of items</h1>\n      <ItemList items={items} />\n    </div>\n  );\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"com-waitfor",children:"Com waitFor"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import { waitFor } from '@testing-library/react';\n\n//...\n\ndescribe('ListPage', () => {\n  it('renders without breaking', async () => {\n    render(<ListPage />);\n\n    await waitFor(() => {\n      expect(\n        screen.getByRole('heading', { name: 'List of items' }),\n      ).toBeInTheDocument();\n    });\n  });\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"com-findby",children:"Com findBy"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"describe('ListPage', () => {\n  it('renders without breaking', async () => {\n    render(<ListPage />);\n    expect(\n      await screen.findByRole('heading', { name: 'List of items' }),\n    ).toBeInTheDocument();\n  });\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"refer\xeancias",children:"Refer\xeancias"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://claritydev.net/blog/improving-react-testing-library-tests",children:"Best Practices for Writing Tests with React Testing Library"})}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const s={},a=i.createContext(s);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);