"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[3122],{9196:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>r,contentTitle:()=>i,default:()=>m,frontMatter:()=>d,metadata:()=>t,toc:()=>l});var n=s(4848),o=s(8453);const d={sidebar_position:2,tags:["Solid"]},i="Dependency Inversion Principle",t={id:"desenvolvimento/padroes/solid/dip",title:"Dependency Inversion Principle",description:"Acoplamento",source:"@site/docs/desenvolvimento/padroes/solid/dip.md",sourceDirName:"desenvolvimento/padroes/solid",slug:"/desenvolvimento/padroes/solid/dip",permalink:"/docs/desenvolvimento/padroes/solid/dip",draft:!1,unlisted:!1,editUrl:"https://github.com/EduardoJM/EduardoJM.github.io/tree/main/docs/desenvolvimento/padroes/solid/dip.md",tags:[{inline:!0,label:"Solid",permalink:"/docs/tags/solid"}],version:"current",lastUpdatedBy:"dependabot[bot]",lastUpdatedAt:173417071e4,sidebarPosition:2,frontMatter:{sidebar_position:2,tags:["Solid"]},sidebar:"tutorialSidebar",previous:{title:"Single Responsibility Principle",permalink:"/docs/desenvolvimento/padroes/solid/srp"},next:{title:"Don't Repeat Yourself",permalink:"/docs/desenvolvimento/padroes/dry"}},r={},l=[{value:"Acoplamento",id:"acoplamento",level:2},{value:"Acoplamento bom x Acoplamento ruim",id:"acoplamento-bom-x-acoplamento-ruim",level:3},{value:"Abstra\xe7\xf5es e Invers\xe3o das Depend\xeancias",id:"abstra\xe7\xf5es-e-invers\xe3o-das-depend\xeancias",level:2},{value:"Abstra\xe7\xf5es conceitualmente abstratas",id:"abstra\xe7\xf5es-conceitualmente-abstratas",level:2},{value:"Regras de Neg\xf3cio x Detalhes",id:"regras-de-neg\xf3cio-x-detalhes",level:2},{value:"C\xf3digo de Alto N\xedvel e Baixo N\xedvel",id:"c\xf3digo-de-alto-n\xedvel-e-baixo-n\xedvel",level:3},{value:"O princ\xedpio da invers\xe3o de depend\xeancias",id:"o-princ\xedpio-da-invers\xe3o-de-depend\xeancias",level:2}];function c(e){const a={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h1,{id:"dependency-inversion-principle",children:"Dependency Inversion Principle"}),"\n",(0,n.jsx)(a.h2,{id:"acoplamento",children:"Acoplamento"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Uma classe com muitas depend\xeancias tem acoplamento com muitas outras classes. Al\xe9m disso, o c\xf3digo acaba acoplado tamb\xe9m \xe0s depend\xeancias das depend\xeancias e assim por diante."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Mudan\xe7as nas depend\xeancias, ou nas depend\xeancias das depend\xeancias, podem acabar se propagando para a classe que as utiliza. Precisamos ter aten\xe7\xe3o para evitar que depend\xeancias indesejadas se espalhem indevidamente pelo nosso c\xf3digo."}),"\n",(0,n.jsx)(a.h3,{id:"acoplamento-bom-x-acoplamento-ruim",children:"Acoplamento bom x Acoplamento ruim"}),"\n",(0,n.jsx)(a.p,{children:"Acoplamento precisa existir. Uma classe totalmente desacoplada \xe9 uma classe in\xfatil."}),"\n",(0,n.jsx)(a.admonition,{title:"Exemplo",type:"note",children:(0,n.jsxs)(a.p,{children:["Num c\xf3digo Java desde o primeiro ",(0,n.jsx)(a.code,{children:"OlaMundo"})," dependemos de ",(0,n.jsx)(a.code,{children:"String"})," e ",(0,n.jsx)(a.code,{children:"System"}),". Essas classes do pacote ",(0,n.jsx)(a.code,{children:"java.lang"})," s\xe3o est\xe1veis: mudam muito pouco."]})}),"\n",(0,n.jsxs)(a.p,{children:["Classes est\xe1veis t\xeam essa caracter\xedstica porque milh\xf5es de projetos as usam e mud\xe1-las teria um impacto gigantesco. Por isso, podemos depender delas tranquilamente. Esse \xe9 um ",(0,n.jsx)(a.strong,{children:"acoplamento bom"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"Depender de classes vol\xe1teis, por sua vez, \xe9 o acoplamento ruim."}),"\n",(0,n.jsx)(a.h2,{id:"abstra\xe7\xf5es-e-invers\xe3o-das-depend\xeancias",children:"Abstra\xe7\xf5es e Invers\xe3o das Depend\xeancias"}),"\n",(0,n.jsx)(a.p,{children:"Podemos usar classes abstratas e, preferencialmente, interfaces. Abstra\xe7\xf5es s\xe3o est\xe1veis: mudam muito menos que implementa\xe7\xf5es."}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Podemos tamb\xe9m usar classes concretas como abstra\xe7\xf5es, desde que n\xe3o deixemos detalhes de outras depend\xeancias vazarem."}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Ao usarmos classes abstratas ou interfaces, o c\xf3digo n\xe3o depende mais diretamente da depend\xeancia vol\xe1til e sim da abstra\xe7\xe3o. E a depend\xeancia vol\xe1til, por sua vez, tamb\xe9m depende da abstra\xe7\xe3o, implementando-a. Por isso, podemos dizer que a ",(0,n.jsx)(a.strong,{children:"depend\xeancia \xe9 invertida"}),"."]}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Devemos evitar que detalhes das depend\xeancias vazem nas nossas abstra\xe7\xf5es."}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"abstra\xe7\xf5es-conceitualmente-abstratas",children:"Abstra\xe7\xf5es conceitualmente abstratas"}),"\n",(0,n.jsx)(a.p,{children:"Devemos evitar criar abstra\xe7\xf5es vinculadas a tarefas muito particulares. Por exemplo:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-java",children:"public interface EnviadorSMS {\n    void enviaNota(String mensagemNota, String telefoneClienteNota);\n}\n"})}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"Boas abstra\xe7\xf5es devem fornecer capacidades mais amplas, sem estarem atreladas a um uso muito espec\xedfico."}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"regras-de-neg\xf3cio-x-detalhes",children:"Regras de Neg\xf3cio x Detalhes"}),"\n",(0,n.jsx)(a.h3,{id:"c\xf3digo-de-alto-n\xedvel-e-baixo-n\xedvel",children:"C\xf3digo de Alto N\xedvel e Baixo N\xedvel"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["C\xf3digo de ",(0,n.jsx)(a.strong,{children:"alto n\xedvel"})," seriam os c\xf3digos que implementam regras de neg\xf3cio."]}),"\n",(0,n.jsxs)(a.li,{children:["C\xf3digo de ",(0,n.jsx)(a.strong,{children:"baixo n\xedvel"})," seriam os mecanismos de entrega, os detalhes de implementa\xe7\xe3o mais t\xe9cnicos."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"C\xf3digo de alto n\xedvel \xe9 aquele mais distante das entradas ou sa\xeddas do sistema e, por isso, muda menos frequentemente e por raz\xf5es mais importantes, relacionadas ao neg\xf3cio."}),"\n",(0,n.jsx)(a.p,{children:"J\xe1 o c\xf3digo de baixo n\xedvel, mais pr\xf3ximo das entradas ou sa\xeddas, muda mais frequentemente e com mais urg\xeancia."}),"\n",(0,n.jsxs)(a.admonition,{title:"Alto ou baixo n\xedvel depende do contexto",type:"note",children:[(0,n.jsx)(a.p,{children:"Para uma aplica\xe7\xe3o Web, o c\xf3digo SQL pode ser considerado um c\xf3digo de baixo n\xedvel, um detalhe de implementa\xe7\xe3o, j\xe1 que n\xe3o est\xe1 diretamente ligado \xe0s regras de neg\xf3cio, mas \xe0 representa\xe7\xe3o das entidades em um banco de dados relacional."}),(0,n.jsx)(a.p,{children:"Por\xe9m, para quem desenvolve um ORM, gerar c\xf3digo SQL comum entre os bancos de dados pode ser considerado alto n\xedvel, j\xe1 que est\xe1 relacionado ao problema que uma biblioteca de ORM resolve. Varia\xe7\xf5es entre os bancos de dados, como AUTO_INCREMENT, SEQUENCE ou IDENTITY na gera\xe7\xe3o de PK's, seriam detalhes de implementa\xe7\xe3o de baixo n\xedvel."})]}),"\n",(0,n.jsx)(a.h2,{id:"o-princ\xedpio-da-invers\xe3o-de-depend\xeancias",children:"O princ\xedpio da invers\xe3o de depend\xeancias"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsx)(a.p,{children:"M\xf3dulos de alto n\xedvel n\xe3o devem depender de m\xf3dulos de baixo n\xedvel. Ambos devem depender de abstra\xe7\xf5es."}),"\n",(0,n.jsx)(a.p,{children:"Abstra\xe7\xf5es n\xe3o devem depender de detalhes. Detalhes devem depender de abstra\xe7\xf5es."}),"\n"]}),"\n",(0,n.jsxs)(a.admonition,{title:"Exemplo",type:"note",children:[(0,n.jsx)(a.p,{children:"Pense em uma arquitetura em tr\xeas camadas: o c\xf3digo da camada de Apresenta\xe7\xe3o depende do c\xf3digo da camada de Neg\xf3cio que, por sua vez, depende do c\xf3digo da camada de Persist\xeancia. Essa arquitetura n\xe3o atende ao DIP: c\xf3digo de alto n\xedvel (Neg\xf3cio) depende de c\xf3digo de baixo n\xedvel (Persist\xeancia)."}),(0,n.jsx)(a.p,{children:"Para atender ao DIP, ter\xedamos que inserir abstra\xe7\xf5es na camada de Neg\xf3cio para inverter as depend\xeancias, fazendo com que Persist\xeancia dependa de Neg\xf3cio e n\xe3o o contr\xe1rio."})]}),"\n",(0,n.jsx)(a.p,{children:"TODO: continuar aqui"})]})}function m(e={}){const{wrapper:a}={...(0,o.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},8453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>t});var n=s(6540);const o={},d=n.createContext(o);function i(e){const a=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function t(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(d.Provider,{value:a},e.children)}}}]);